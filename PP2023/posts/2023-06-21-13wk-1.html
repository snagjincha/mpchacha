<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="최규빈">
<meta name="dcterms.date" content="2023-06-21">

<title>mpchacha - 13wk-1: 깊은복사와 얕은복사</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">mpchacha</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#강의영상" id="toc-강의영상" class="nav-link active" data-scroll-target="#강의영상">강의영상</a></li>
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import">import</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#예제1-비상식적인-append" id="toc-예제1-비상식적인-append" class="nav-link" data-scroll-target="#예제1-비상식적인-append">예제1: 비상식적인 append</a></li>
  <li><a href="#append의-동작원리-틀린상상" id="toc-append의-동작원리-틀린상상" class="nav-link" data-scroll-target="#append의-동작원리-틀린상상">append의 동작원리: 틀린상상</a>
  <ul class="collapse">
  <li><a href="#틀린이유" id="toc-틀린이유" class="nav-link" data-scroll-target="#틀린이유">틀린이유</a></li>
  </ul></li>
  <li><a href="#append의-동작원리-올바른-상상" id="toc-append의-동작원리-올바른-상상" class="nav-link" data-scroll-target="#append의-동작원리-올바른-상상">append의 동작원리: 올바른 상상</a></li>
  </ul></li>
  <li><a href="#할당문의-이해" id="toc-할당문의-이해" class="nav-link" data-scroll-target="#할당문의-이해">할당문(=)의 이해</a></li>
  <li><a href="#id-value" id="toc-id-value" class="nav-link" data-scroll-target="#id-value">id, value</a>
  <ul class="collapse">
  <li><a href="#예제1-같은-value-다른-id" id="toc-예제1-같은-value-다른-id" class="nav-link" data-scroll-target="#예제1-같은-value-다른-id">예제1: 같은 value, 다른 id</a></li>
  <li><a href="#예제2" id="toc-예제2" class="nav-link" data-scroll-target="#예제2">예제2</a></li>
  </ul></li>
  <li><a href="#인터닝" id="toc-인터닝" class="nav-link" data-scroll-target="#인터닝">인터닝</a>
  <ul class="collapse">
  <li><a href="#예제1" id="toc-예제1" class="nav-link" data-scroll-target="#예제1">예제1</a></li>
  <li><a href="#예제2-이제-다-이해했다고-생각했는데.." id="toc-예제2-이제-다-이해했다고-생각했는데.." class="nav-link" data-scroll-target="#예제2-이제-다-이해했다고-생각했는데..">예제2: 이제 다 이해했다고 생각했는데..</a></li>
  </ul></li>
  <li><a href="#copy의-사용-shallow-copy의-사용" id="toc-copy의-사용-shallow-copy의-사용" class="nav-link" data-scroll-target="#copy의-사용-shallow-copy의-사용"><code>.copy()</code>의 사용 (shallow copy의 사용)</a>
  <ul class="collapse">
  <li><a href="#예제1-1" id="toc-예제1-1" class="nav-link" data-scroll-target="#예제1-1">예제1</a></li>
  <li><a href="#예제2-r과-같이-를-쓰고-싶다면" id="toc-예제2-r과-같이-를-쓰고-싶다면" class="nav-link" data-scroll-target="#예제2-r과-같이-를-쓰고-싶다면">예제2: R과 같이 = 를 쓰고 싶다면?</a></li>
  <li><a href="#예제3-이제-다-이해했다고-생각했는데.." id="toc-예제3-이제-다-이해했다고-생각했는데.." class="nav-link" data-scroll-target="#예제3-이제-다-이해했다고-생각했는데..">예제3: 이제 다 이해했다고 생각했는데..</a></li>
  </ul></li>
  <li><a href="#shallow-copy의-이해" id="toc-shallow-copy의-이해" class="nav-link" data-scroll-target="#shallow-copy의-이해">Shallow copy의 이해</a>
  <ul class="collapse">
  <li><a href="#예제1-2" id="toc-예제1-2" class="nav-link" data-scroll-target="#예제1-2">예제1</a></li>
  <li><a href="#예제2-1" id="toc-예제2-1" class="nav-link" data-scroll-target="#예제2-1">예제2</a></li>
  <li><a href="#예제3" id="toc-예제3" class="nav-link" data-scroll-target="#예제3">예제3</a></li>
  <li><a href="#예제4" id="toc-예제4" class="nav-link" data-scroll-target="#예제4">예제4</a></li>
  <li><a href="#예제5-우리를-힘들게-했던-그-예제." id="toc-예제5-우리를-힘들게-했던-그-예제." class="nav-link" data-scroll-target="#예제5-우리를-힘들게-했던-그-예제.">예제5: 우리를 힘들게 했던 그 예제.</a></li>
  <li><a href="#예제6-신임교수최규빈이영미" id="toc-예제6-신임교수최규빈이영미" class="nav-link" data-scroll-target="#예제6-신임교수최규빈이영미">예제6: 신임교수=[‘최규빈’,‘이영미’]</a></li>
  </ul></li>
  <li><a href="#deep-copy" id="toc-deep-copy" class="nav-link" data-scroll-target="#deep-copy">Deep copy</a>
  <ul class="collapse">
  <li><a href="#예제1-motivation-example" id="toc-예제1-motivation-example" class="nav-link" data-scroll-target="#예제1-motivation-example">예제1: Motivation example</a></li>
  <li><a href="#예제2-2" id="toc-예제2-2" class="nav-link" data-scroll-target="#예제2-2">예제2</a></li>
  </ul></li>
  <li><a href="#shallow-copy-연습문제" id="toc-shallow-copy-연습문제" class="nav-link" data-scroll-target="#shallow-copy-연습문제">Shallow copy 연습문제</a>
  <ul class="collapse">
  <li><a href="#예제1-3" id="toc-예제1-3" class="nav-link" data-scroll-target="#예제1-3">예제1</a></li>
  <li><a href="#예제2-3" id="toc-예제2-3" class="nav-link" data-scroll-target="#예제2-3">예제2</a></li>
  <li><a href="#예제3-1" id="toc-예제3-1" class="nav-link" data-scroll-target="#예제3-1">예제3</a></li>
  <li><a href="#예제4-1" id="toc-예제4-1" class="nav-link" data-scroll-target="#예제4-1">예제4</a></li>
  <li><a href="#예제5" id="toc-예제5" class="nav-link" data-scroll-target="#예제5">예제5</a></li>
  </ul></li>
  <li><a href="#불변형-객체" id="toc-불변형-객체" class="nav-link" data-scroll-target="#불변형-객체">불변형 객체</a>
  <ul class="collapse">
  <li><a href="#예제1-motivation-example-1" id="toc-예제1-motivation-example-1" class="nav-link" data-scroll-target="#예제1-motivation-example-1">예제1: Motivation example</a></li>
  <li><a href="#해설" id="toc-해설" class="nav-link" data-scroll-target="#해설">해설</a></li>
  </ul></li>
  <li><a href="#shallow-copy-vs-deep-copy" id="toc-shallow-copy-vs-deep-copy" class="nav-link" data-scroll-target="#shallow-copy-vs-deep-copy">Shallow-copy vs Deep-copy</a></li>
  <li><a href="#numpy" id="toc-numpy" class="nav-link" data-scroll-target="#numpy">numpy</a>
  <ul class="collapse">
  <li><a href="#차원의-실체" id="toc-차원의-실체" class="nav-link" data-scroll-target="#차원의-실체">2차원의 실체</a></li>
  <li><a href="#참조" id="toc-참조" class="nav-link" data-scroll-target="#참조">참조</a></li>
  <li><a href="#view" id="toc-view" class="nav-link" data-scroll-target="#view">view</a></li>
  <li><a href="#copy" id="toc-copy" class="nav-link" data-scroll-target="#copy">copy</a>
  <ul class="collapse">
  <li><a href="#appendix-.copy의-한계" id="toc-appendix-.copy의-한계" class="nav-link" data-scroll-target="#appendix-.copy의-한계"><strong><em>Appendix: .copy의 한계(?)</em></strong></a></li>
  </ul></li>
  <li><a href="#요약" id="toc-요약" class="nav-link" data-scroll-target="#요약">요약</a></li>
  <li><a href="#별명-뷰-카피" id="toc-별명-뷰-카피" class="nav-link" data-scroll-target="#별명-뷰-카피">별명, 뷰, 카피</a></li>
  <li><a href="#결론" id="toc-결론" class="nav-link" data-scroll-target="#결론">결론</a>
  <ul class="collapse">
  <li><a href="#예시1" id="toc-예시1" class="nav-link" data-scroll-target="#예시1">예시1</a></li>
  <li><a href="#예시2" id="toc-예시2" class="nav-link" data-scroll-target="#예시2">예시2</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="2023-06-21-13wk-1.out.ipynb" download="2023-06-21-13wk-1.out.ipynb"><i class="bi bi-journal-code"></i>Jupyter</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">13wk-1: 깊은복사와 얕은복사</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>최규빈 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 21, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p><a href="https://colab.research.google.com/github/guebin/PP2023/blob/main/posts/2023-06-21-13wk-1.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" style="text-align: left"></a></p>
<blockquote class="blockquote">
<p>모르고 살았다면 더 좋았을 내용</p>
</blockquote>
<section id="강의영상" class="level1">
<h1>강의영상</h1>
<blockquote class="blockquote">
<p>youtube: <a href="https://youtube.com/playlist?list=PLQqh36zP38-x1VTi4A3DVjHwcc56J9mwj" class="uri">https://youtube.com/playlist?list=PLQqh36zP38-x1VTi4A3DVjHwcc56J9mwj</a></p>
</blockquote>
</section>
<section id="import" class="level1">
<h1>import</h1>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="예제1-비상식적인-append" class="level2">
<h2 class="anchored" data-anchor-id="예제1-비상식적인-append">예제1: 비상식적인 append</h2>
<blockquote class="blockquote">
<p>포인트: 이상한 일의 관찰</p>
</blockquote>
<p><code>-</code> 원소의 추가: <code>+</code> 이용</p>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>a<span class="op">+</span>[<span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>[1, 2, 3]</code></pre>
</div>
</div>
<p><code>-</code> 원소의 추가 <code>.append</code> 이용</p>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>a.append(<span class="dv">4</span>) <span class="co"># a=a+[4]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
</section>
<section id="append의-동작원리-틀린상상" class="level2">
<h2 class="anchored" data-anchor-id="append의-동작원리-틀린상상">append의 동작원리: 틀린상상</h2>
<p><code>-</code> 상자로서의 변수: 변수가 데이터를 저장하는 일종의 상자와 같다. &lt;– 아주 흔한 오해 (Fluent Python)</p>
<blockquote class="blockquote">
<p>흔히 비유하는 ‘상자로서의 변수’ 개념이 실제로는 객체지향적 언어에서 참조변수를 이해하는 데 방해가 된다.</p>
</blockquote>
<p><code>-</code> “상자로서의 변수” 관점에서 아래의 코드를 해석하자. (일단 아래의 해석들이 틀린해석이라는 사실을 명심할 것)</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>a.append(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>a,b라는 변수들은 메모리에 어떻게 저장이 되어있을까?</p>
<p>상상력을 조금 발휘하면 아래와 같이 여길 수 있다.</p>
<ol type="1">
<li><p>메모리는 변수를 담을 방이 여러개 있는 호텔이라고 생각하자.</p></li>
<li><p>아래를 실행하였을 경우</p></li>
</ol>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>메모리주소1에 존재하는 방을 a라고 하고, 그 방에 [1,2,3]을 넣는다.</li>
</ul>
<ol start="3" type="1">
<li>아래를 실행하였을 경우</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>메모리주소2에 존재하는 방을 b라고 하고, 그 방에 a를 넣어야하는데, a는 [1,2,3]이니까 [1,2,3]을 넣는다.</li>
</ul>
<ol start="4" type="1">
<li>아래를 실행하면</li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>a.append(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>방 a로가서 [1,2,3]을 [1,2,3,4]로 바꾼다.</li>
<li>그리고 방 b에는 아무것도 하지 않는다.</li>
</ul>
<p><code>-</code> R에서는 맞는 비유인데, 파이썬은 적절하지 않은 비유이다.</p>
<section id="틀린이유" class="level3">
<h3 class="anchored" data-anchor-id="틀린이유">틀린이유</h3>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>140237129319488</code></pre>
</div>
</div>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>140237129319488</code></pre>
</div>
</div>
</section>
</section>
<section id="append의-동작원리-올바른-상상" class="level2">
<h2 class="anchored" data-anchor-id="append의-동작원리-올바른-상상">append의 동작원리: 올바른 상상</h2>
<blockquote class="blockquote">
<p>파이썬에서의 변수는 자바에서의 참조변수와 같으므로 변수는 객체에 붙은 레이블이라고 생각하는 것이 좋다.</p>
</blockquote>
<p><code>-</code> 파이썬에서는 아래가 더 적절한 비유이다.</p>
<ol type="1">
<li><p>메모리는 변수를 담을 방이 여러개 있는 호텔이라고 생각하자.</p></li>
<li><p>아래를 실행하였을 경우</p></li>
</ol>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>메모리주소 <code>139753545242336</code>에서 [1,2,3]을 생성</li>
<li>방 <code>139753545242336</code>의 방문에 <code>a</code>라는 포스트잇을 붙인다.</li>
<li>앞으로 [1,2,3]에 접근하기 위해서는 여러 메모리방중에서 <code>a</code>라는 포스트잇이 붙은 방을 찾아가면 된다.</li>
</ul>
<ol start="3" type="1">
<li>아래를 실행하였을 경우</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>a</code>라는 포스트잇이 지칭하는 객체를 가져옴. 그리고 그 객체에 <code>b</code>라는 포스트잇을 붙인다.</li>
<li>쉽게말하면 <code>b</code>라는 포스트잇을 방 <code>139753545242336</code>의 방문에 붙인다는 이야기.</li>
<li>앞으로 [1,2,3]에 접근하기 위해서는 여러 메모리방중에서 <code>a</code>라는 포스트잇이 붙어 있거나 <code>b</code>라는 포스트잇이 붙어있는 방을 찾아가면 된다.</li>
</ul>
<ol start="4" type="1">
<li>아래를 실행하면</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>a.append(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>a</code>라는 포스트잇이 붙어있는 방으로 가서, 그 내용물에 <code>append</code>함수를 적용하여 4를 추가하라. 즉 내용물 [1,2,3]을 [1,2,3,4]로 바꾸라.</li>
<li>같은방(<code>139753545242336</code>)에 <code>a</code>,<code>b</code>라는 포스트잇이 모두 붙어있음. 따라서 <code>b</code>라는 포스트잇이 붙은 방을 찾아가서 내용물을 열어보면 [1,2,3,4]가 나온다.</li>
</ul>
</section>
</section>
<section id="할당문의-이해" class="level1">
<h1>할당문(=)의 이해</h1>
<p><code>-</code> 파이썬에서 할당문을 이해하기 위해서는 언제나 오른쪽을 먼저 읽어야 한다.</p>
<ul>
<li>할당문의 오른쪽에서는 객체를 “생성”하거나 “가져옴”</li>
<li>그 후에 라벨을 붙이듯이 할당문 왼쪽의 변수가 할당문 오른쪽의 객체에 바인딩 된다. (참조)</li>
</ul>
<p><code>-</code> <code>b=a</code>는</p>
<blockquote class="blockquote">
<p>나는 이미 a가 의미하는게 무엇인지 알고있어. 그런데 그 실체를 b라고도 부르고 싶어.</p>
</blockquote>
<p>라는 것과 같다. 즉 이미 <code>a</code>라고 부르고 있는것을 내가 <code>b</code>라고도 부르고 싶다는 의미인데 이는 마치 별명과 같다. (<code>b</code>는 <code>a</code>의 별명, alias) 그리고 이처럼 하나의 오브젝트에 여러개의 이름을 붙이는 것을 에일리어싱이라고 부른다.</p>
</section>
<section id="id-value" class="level1">
<h1>id, value</h1>
<section id="예제1-같은-value-다른-id" class="level2">
<h2 class="anchored" data-anchor-id="예제1-같은-value-다른-id">예제1: 같은 value, 다른 id</h2>
<blockquote class="blockquote">
<p>포인트: (1) 포스트잇 개념의 확실한 이해 (2) 할당문을 새로운 시각으로 해석하는 연습 (3) “생성-&gt;할당”과 “참조/에일리어싱”의 구분</p>
</blockquote>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>] <span class="co"># 우변: 생성된 오브젝트, 좌변: 이름 </span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a <span class="co"># 우변: 가져온 오브젝트, 좌변: 별명 --&gt; 참조, 에일리어싱(별칭부여)이라고 한다</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>a.append(<span class="dv">4</span>) <span class="co"># a라는 오브젝트를 직접변경</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>c<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>] <span class="co"># 우변: 생성된 오브젝트, 좌변: 이름</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>여기에서 a,b,c는 모두 같은 value를 가진다.</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>[1, 2, 3, 4]</code></pre>
</div>
</div>
<p>하지만 그 id까지 같은 것은 아니다.</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a), <span class="bu">id</span>(b), <span class="bu">id</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>(140237129249664, 140237129249664, 140237128836544)</code></pre>
</div>
</div>
</section>
<section id="예제2" class="level2">
<h2 class="anchored" data-anchor-id="예제2">예제2</h2>
<blockquote class="blockquote">
<p>선행지식: “생성-&gt;할당” 과 “참조/에일리어싱”의 구분</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 재할당의 이해!!</p>
</blockquote>
<p>(관찰)</p>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>] <span class="co"># 생성-&gt;할당</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a <span class="co"># 참조/에일리어싱 </span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>a<span class="op">+</span>[<span class="dv">4</span>] <span class="co"># 생성-&gt;재할당 </span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a='</span>,a)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'b='</span>,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>a= [1, 2, 3, 4]
b= [1, 2, 3]</code></pre>
</div>
</div>
<p>(해설)</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a),<span class="bu">id</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>(140237129283584, 140237129350912)</code></pre>
</div>
</div>
<ul>
<li>포인트: [1,2,3]+[4] 가 실행되는 순간 새로운 오브젝트가 만들어지고 그 오브젝트를 a라는 이름으로 다시 할당되었음. (재할당)</li>
</ul>
</section>
</section>
<section id="인터닝" class="level1">
<h1>인터닝</h1>
<section id="예제1" class="level2">
<h2 class="anchored" data-anchor-id="예제1">예제1</h2>
<blockquote class="blockquote">
<p>선행지식: “생성-&gt;할당,재할당” 과 “참조/에일리어싱”의 구분</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 인터닝을 위한 떡밥예제</p>
</blockquote>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span><span class="dv">1</span><span class="op">+</span><span class="dv">2021</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>139753546122608</code></pre>
</div>
</div>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span><span class="dv">2023</span><span class="op">-</span><span class="dv">1</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>139753545299280</code></pre>
</div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(<span class="dv">2022</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>139753545299472</code></pre>
</div>
</div>
<ul>
<li>당연한결과임.</li>
</ul>
</section>
<section id="예제2-이제-다-이해했다고-생각했는데.." class="level2">
<h2 class="anchored" data-anchor-id="예제2-이제-다-이해했다고-생각했는데..">예제2: 이제 다 이해했다고 생각했는데..</h2>
<blockquote class="blockquote">
<p>선행지식: “생성-&gt;할당,재할당” 과 “참조/에일리어싱”의 구분</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 인터닝의 이해</p>
</blockquote>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span><span class="dv">1</span><span class="op">+</span><span class="dv">2</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>7394720</code></pre>
</div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span><span class="dv">4</span><span class="op">-</span><span class="dv">1</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>7394720</code></pre>
</div>
</div>
<ul>
<li>id(a)와 id(b)가 왜 똑같지..?</li>
</ul>
<p>(해설) 파이썬의 경우 효율성을 위해서 -5~256까지의 정수를 미리 저장해둠.</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>7394720</code></pre>
</div>
</div>
<ul>
<li>3은 언제나 7394720에 지박령마냥 밖혀있음</li>
</ul>
</section>
</section>
<section id="copy의-사용-shallow-copy의-사용" class="level1">
<h1><code>.copy()</code>의 사용 (shallow copy의 사용)</h1>
<blockquote class="blockquote">
<p>선행지식: “생성-&gt;할당,재할당” 과 “참조/에일리어싱”의 구분</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: “생성-&gt;할당,재할당” 과 “참조/에일리어싱”의 연습, 복사를 위한 떡밥예제</p>
</blockquote>
<section id="예제1-1" class="level2">
<h2 class="anchored" data-anchor-id="예제1-1">예제1</h2>
<p>(관찰) 아래의 예제를 살펴보자. 참조를 제대로 이해했다면 아래의 예제는 자연스럽게 이해가능할 것임.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>, [<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1 </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점1'</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>l1[<span class="dv">0</span>]<span class="op">=</span><span class="dv">4</span> </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점2'</span>)</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>l2.append(<span class="dv">5</span>)</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점3'</span>)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>시점1
l1= [3, [66, 55, 44]]
l2= [3, [66, 55, 44]]
시점2
l1= [4, [66, 55, 44]]
l2= [4, [66, 55, 44]]
시점3
l1= [4, [66, 55, 44], 5]
l2= [4, [66, 55, 44], 5]</code></pre>
</div>
</div>
<p>(해설)</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>, [<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l1),<span class="bu">id</span>(l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>(140571068242688, 140571068242688)</code></pre>
</div>
</div>
<p>이해는 되지만 우리가 원한건 이런게 아니야</p>
</section>
<section id="예제2-r과-같이-를-쓰고-싶다면" class="level2">
<h2 class="anchored" data-anchor-id="예제2-r과-같이-를-쓰고-싶다면">예제2: R과 같이 = 를 쓰고 싶다면?</h2>
<blockquote class="blockquote">
<p>선행지식: “생성-&gt;할당,재할당” 과 “참조/에일리어싱”의 구분</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 복사의 사용, 얕은복사의 떡밥</p>
</blockquote>
<p>(관찰)</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>, [<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점1'</span>)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>l1[<span class="dv">0</span>]<span class="op">=</span><span class="dv">4</span> </span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점2'</span>)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>l2.append(<span class="dv">5</span>)</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점3'</span>)</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>시점1
l1= [3, [66, 55, 44]]
l2= [3, [66, 55, 44]]
시점2
l1= [4, [66, 55, 44]]
l2= [3, [66, 55, 44]]
시점3
l1= [4, [66, 55, 44]]
l2= [3, [66, 55, 44], 5]</code></pre>
</div>
</div>
<p>(해설)</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>, [<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l1),<span class="bu">id</span>(l2) <span class="co">## 드디어 주소가 달라졌다.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>(140571068242688, 140571068242240)</code></pre>
</div>
</div>
</section>
<section id="예제3-이제-다-이해했다고-생각했는데.." class="level2">
<h2 class="anchored" data-anchor-id="예제3-이제-다-이해했다고-생각했는데..">예제3: 이제 다 이해했다고 생각했는데..</h2>
<blockquote class="blockquote">
<p>선행지식: “생성-&gt;할당,재할당” 과 “참조/에일리어싱”의 구분, 복사의 사용</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 얕은복사를 이해하지 못할때 생기는 개념충돌</p>
</blockquote>
<p>(관찰)</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="dv">1</span>].append(<span class="dv">33</span>)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44, 33]]
l2= [3, [66, 55, 44, 33]]</code></pre>
</div>
</div>
<p>(의문)</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l1),<span class="bu">id</span>(l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>(140571077644352, 140571068253376)</code></pre>
</div>
</div>
<ul>
<li>l1이랑 l2의 주소도 다르게 나오는데 왜 또 참조한것마냥 l1과 l2가 같이 바뀌고 있지?</li>
</ul>
<p><strong><em>나는 진정한 복사(=깊은복사)를 하고싶다</em></strong></p>
</section>
</section>
<section id="shallow-copy의-이해" class="level1">
<h1>Shallow copy의 이해</h1>
<p><code>-</code> 방금 살펴본 예제3을 이해하기 위해서는 shallow copy를 이해해야 한다.</p>
<section id="예제1-2" class="level2">
<h2 class="anchored" data-anchor-id="예제1-2">예제1</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 0차원 자료형의 메모리 구조 이해, 1차원 자료형의 메모리 구조를 위한 떡밥</p>
</blockquote>
<p>(관찰+해설)</p>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span><span class="dv">2222</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span><span class="dv">2222</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a),<span class="bu">id</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>(139753545300880, 139753545301808)</code></pre>
</div>
</div>
<p>메모리 상황</p>
<ol type="1">
<li>2222라는 오브젝트가 어떤공간(<code>139753545300880</code>)에 생성되고 그 공간에 <code>a</code>라는 라벨이 붙음</li>
<li>2222라는 오브젝트가 어떤공간(<code>139753545301808</code>)에 생성되고 그 공간에 <code>b</code>라는 라벨이 붙음</li>
</ol>
<p>즉 -5~256 이외의 2개의 메모리 공간을 추가적으로 사용</p>
</section>
<section id="예제2-1" class="level2">
<h2 class="anchored" data-anchor-id="예제2-1">예제2</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것, 0차원 자료형의 메모리저장상태 이해</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: (1) 1차원 자료형의 메모리 구조 이해 (2) 가변형객체라는 표현의 의미</p>
</blockquote>
<p>(관찰)</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2222</span>]</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2222</span>]</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>a.append(<span class="dv">4</span>)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a='</span>,a)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'b='</span>,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>a= [1, 2, 2222, 4]
b= [1, 2, 2222]</code></pre>
</div>
</div>
<p>(해설)</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2222</span>]</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2222</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a), [<span class="bu">id</span>(a[<span class="dv">0</span>]),<span class="bu">id</span>(a[<span class="dv">1</span>]),<span class="bu">id</span>(a[<span class="dv">2</span>])] <span class="co"># a=[1,2,2222]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>(140527746917824, [7585472, 7585504, 140528016796752])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(b), [<span class="bu">id</span>(b[<span class="dv">0</span>]),<span class="bu">id</span>(b[<span class="dv">1</span>]),<span class="bu">id</span>(b[<span class="dv">2</span>])] <span class="co"># b=[1,2,2222] </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>(140527746917568, [7585472, 7585504, 140528016796144])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>a.append(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>[1, 2, 2222, 4]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>[1, 2, 2222]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>140527746917824</code></pre>
</div>
</div>
<p>메모리상황</p>
<ol start="0" type="1">
<li>-5~256까지의 숫자는 미리 메모리에 저장되어 있다. 이중에서 1은 <code>7394656</code>, 2는 <code>7394688</code>에 저장되어있음.</li>
<li>2222가 공간 <code>139753178093776</code>에서 만들어진다.</li>
<li>어떠한 리스트오브젝트가 공간 <code>139753182327904</code>에서 만들어지고 원소로 [1,2,2222]를 가진다. 이 공간에 <code>a</code>라는 포스트잇을 붙인다.</li>
<li>2222가 공간 <code>139753178095568</code>에서 만들어진다.</li>
<li>어떠한 리스트오브젝트가 공간 <code>139753173818656</code>에서 만들어지고 원소로 [1,2,2222]를 가진다. 이 공간에 <code>b</code>라는 포스트잇을 붙인다.</li>
<li><code>a</code>라는 포스트잇이 붙은 공간으로 이동하여 원소에 4를 추가시킨다.</li>
</ol>
<p>즉 -5~256이외에 4개의 메모리 공간을 추가사용 (a,b,a의 2222,b의 2222)</p>
</section>
<section id="예제3" class="level2">
<h2 class="anchored" data-anchor-id="예제3">예제3</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든 것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: <code>l2=l1</code> 와 <code>l2=l1.copy()</code> 의 차이점</p>
</blockquote>
<p>(관찰)</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">7777</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [7777, [66, 55, 44]]
l2= [3, [66, 55, 44]]</code></pre>
</div>
</div>
<p>(해설)</p>
<div class="cell" data-execution_count="258">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="259">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]), <span class="bu">id</span>(l1[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="259">
<pre><code>(139753183437040, [7394720, 139753183707216])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="260">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]), <span class="bu">id</span>(l2[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="260">
<pre><code>(139753182311120, [7394720, 139753183707216])</code></pre>
</div>
</div>
<p>메모리상황</p>
<ol start="0" type="1">
<li>-5~256까지의 숫자가 메모리에 저장되어 있다.</li>
<li>저장된 숫자중 66,55,44를 묶어서 리스트로 구성하고 이 리스트를 공간 <code>139753183707216</code>에 저장.</li>
<li>숫자 3과 공간 <code>139753183707216</code>에 저장된 리스트 [66,55,44]를 하나로 묶어서 새로운 리스트를 구성하고 이를 공간 <code>139753183437040</code>에 저장. 공간 <code>139753183437040</code>에 <code>l1</code>이라는 포스트잇 생성.</li>
<li>공간 <code>139753182311120</code>에 <code>l1</code>의 원소들을 모아서 새로운 리스트를 구성함. 공간 <code>139753182311120</code>에 <code>l2</code>라는 포스트잇 생성. 그런데 따져보니까 내부구성은 똑같아?</li>
</ol>
<div class="cell" data-execution_count="261">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>l1[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">7777</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="261">
<pre><code>([7777, [66, 55, 44]], [3, [66, 55, 44]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="262">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]), <span class="bu">id</span>(l1[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="262">
<pre><code>(139753183437040, [139753178092080, 139753183707216])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="263">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]), <span class="bu">id</span>(l2[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="263">
<pre><code>(139753182311120, [7394720, 139753183707216])</code></pre>
</div>
</div>
<ol start="0" type="1">
<li>l1[0]은 원래 공간 <code>7394720</code>와 binding 되어 있었음.<br>
</li>
<li>그런데 7777이라는 새로운 오브젝트가 공간 <code>139753178092080</code>에 생성되고 l1[0]이 공간 <code>139753178092080</code>와 다시 binding 됨.</li>
</ol>
</section>
<section id="예제4" class="level2">
<h2 class="anchored" data-anchor-id="예제4">예제4</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것, <code>.copy()</code>의 동작원리</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: <code>.copy()</code>의 동작원리 재학습</p>
</blockquote>
<p>(관찰)</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>l1.append(<span class="dv">7777</span>)</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44], 7777]
l2= [3, [66, 55, 44]]</code></pre>
</div>
</div>
<p>(해설)</p>
<div class="cell" data-execution_count="282">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>l1.append(<span class="dv">7777</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="283">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="283">
<pre><code>([3, [66, 55, 44], 7777], [3, [66, 55, 44]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="278">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]), <span class="bu">id</span>(l1[<span class="dv">1</span>]), <span class="bu">id</span>(l1[<span class="dv">2</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="278">
<pre><code>(139753183257056, [7394720, 139753184484240, 139753180268560])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="279">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]), <span class="bu">id</span>(l2[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="279">
<pre><code>(139753183216656, [7394720, 139753184484240])</code></pre>
</div>
</div>
</section>
<section id="예제5-우리를-힘들게-했던-그-예제." class="level2">
<h2 class="anchored" data-anchor-id="예제5-우리를-힘들게-했던-그-예제.">예제5: 우리를 힘들게 했던 그 예제.</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것, <code>.copy()</code>의 동작원리</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: (1) <code>.copy()</code>의 한계, (2) 얕은복사라는 명칭의 유래</p>
</blockquote>
<p>(관찰)</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="dv">1</span>].append(<span class="dv">7777</span>)</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>,l1)</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>,l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44, 7777]]
l2= [3, [66, 55, 44, 7777]]</code></pre>
</div>
</div>
<p>(해설-시점1)</p>
<div class="cell" data-execution_count="284">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="285">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="285">
<pre><code>([3, [66, 55, 44]], [3, [66, 55, 44]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="286">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]), <span class="bu">id</span>(l1[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="286">
<pre><code>(139753181411920, [7394720, 139753181409920])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="287">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]), <span class="bu">id</span>(l2[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="287">
<pre><code>(139753181409440, [7394720, 139753181409920])</code></pre>
</div>
</div>
<p>(해설-시점2)</p>
<div class="cell" data-execution_count="288">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>l1[<span class="dv">1</span>].append(<span class="dv">7777</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="289">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="289">
<pre><code>([3, [66, 55, 44, 7777]], [3, [66, 55, 44, 7777]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="290">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]), <span class="bu">id</span>(l1[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="290">
<pre><code>(139753181411920, [7394720, 139753181409920])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="291">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]), <span class="bu">id</span>(l2[<span class="dv">1</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="291">
<pre><code>(139753181409440, [7394720, 139753181409920])</code></pre>
</div>
</div>
<p>해설: 사실 시점1에서 메모리 주소상황을 잘 이해했다면 신기한 일이 아니다. <code>.copy()</code>는 l1과 l2의 주소만 다르게 만들 뿐 내용물인 <code>l1[0]</code>,<code>l1[1]</code>는 동일하니까.</p>
</section>
<section id="예제6-신임교수최규빈이영미" class="level2">
<h2 class="anchored" data-anchor-id="예제6-신임교수최규빈이영미">예제6: 신임교수=[‘최규빈’,‘이영미’]</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지의 모든것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 이전까지의 모든것 점검</p>
</blockquote>
<p><code>-</code> 최규빈, 이영미는 신임교수임</p>
<div class="cell" data-execution_count="316">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>신임교수 <span class="op">=</span> [<span class="st">'최규빈'</span>,<span class="st">'이영미'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="317">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(신임교수), <span class="bu">id</span>(<span class="st">'최규빈'</span>), <span class="bu">id</span>(<span class="st">'이영미'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="317">
<pre><code>(139753182527808, 139753171447312, 139753171447408)</code></pre>
</div>
</div>
<p><code>-</code> 신임교수를 누군가는 막내들이라고 부르기도 함.</p>
<div class="cell" data-execution_count="318">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>막내들 <span class="op">=</span> 신임교수 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="319">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(막내들), <span class="bu">id</span>(신임교수)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="319">
<pre><code>(139753182527808, 139753182527808)</code></pre>
</div>
</div>
<p>“막내들”이라는 단어와 “신임교수”라는 단어는 사실 같은 말임</p>
<p><code>-</code> 새로운 교수 “박혜원”이 뽑혔음.</p>
<div class="cell" data-execution_count="320">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>신임교수.append(<span class="st">"박혜원"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="321">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>신임교수, 막내들</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="321">
<pre><code>(['최규빈', '이영미', '박혜원'], ['최규빈', '이영미', '박혜원'])</code></pre>
</div>
</div>
<p><code>-</code> 전북대 통계학과에서 R특강팀을 구성하여 방학중 R교육을 실시하고자함. 특강팀은 우선 신임교수들로 구성.</p>
<div class="cell" data-execution_count="322">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>R특강팀 <span class="op">=</span> 신임교수.copy()</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>R특강팀 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="322">
<pre><code>['최규빈', '이영미', '박혜원']</code></pre>
</div>
</div>
<p><code>-</code> R특강팀에 <code>최혜미</code>교수님 추가. (그렇지만 최혜미교수님이 막내는 아니야.. // 참조와 shallow copy의 차이점)</p>
<div class="cell" data-execution_count="323">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>R특강팀.append(<span class="st">"최혜미"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="324">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>R특강팀, 신임교수, 막내들</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="324">
<pre><code>(['최규빈', '이영미', '박혜원', '최혜미'], ['최규빈', '이영미', '박혜원'], ['최규빈', '이영미', '박혜원'])</code></pre>
</div>
</div>
<p><code>-</code> R특강팀에서 양성준 교수를 추가하여 파이썬 특강팀을 구성 (R특강팀의 구분을 위해서 중첩리스트 구조로 만들자)</p>
<div class="cell" data-execution_count="326">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>파이썬특강팀 <span class="op">=</span> [R특강팀, <span class="st">"양성준"</span>]</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>파이썬특강팀</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="326">
<pre><code>[['최규빈', '이영미', '박혜원', '최혜미'], '양성준']</code></pre>
</div>
</div>
<p><code>-</code> 이영미교수는 다른 일이 많아서 R특강 팀에서 제외됨. (그럼 자연히 파이썬에서도 제외됨!!)</p>
<div class="cell" data-execution_count="327">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>R특강팀.remove(<span class="st">"이영미"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="328">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>R특강팀, 파이썬특강팀</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="328">
<pre><code>(['최규빈', '박혜원', '최혜미'], [['최규빈', '박혜원', '최혜미'], '양성준'])</code></pre>
</div>
</div>
<p>하지만 이영미교수는 여전히 신임교수이면서 막내들임</p>
<div class="cell" data-execution_count="329">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>신임교수, 막내들</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="329">
<pre><code>(['최규빈', '이영미', '박혜원'], ['최규빈', '이영미', '박혜원'])</code></pre>
</div>
</div>
<p><code>-</code> 새로운 교수로 “손흥민”이 임용됨.</p>
<div class="cell" data-execution_count="330">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>막내들.append(<span class="st">"손흥민"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="331">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>막내들, 신임교수</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="331">
<pre><code>(['최규빈', '이영미', '박혜원', '손흥민'], ['최규빈', '이영미', '박혜원', '손흥민'])</code></pre>
</div>
</div>
<p><code>-</code> 그렇다고 해서 손흥민 교수가 바로 R이나 파이썬 특강팀에 자동소속되는건 아님</p>
<div class="cell" data-execution_count="332">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>R특강팀, 파이썬특강팀</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="332">
<pre><code>(['최규빈', '박혜원', '최혜미'], [['최규빈', '박혜원', '최혜미'], '양성준'])</code></pre>
</div>
</div>
</section>
</section>
<section id="deep-copy" class="level1">
<h1>Deep copy</h1>
<section id="예제1-motivation-example" class="level2">
<h2 class="anchored" data-anchor-id="예제1-motivation-example">예제1: Motivation example</h2>
<p><code>-</code> 아래의 상황을 다시 생각해보자.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>파이썬특강팀 <span class="op">=</span> [<span class="st">"양성준"</span>,[<span class="st">"최규빈"</span>,<span class="st">"이영미"</span>,<span class="st">"최혜미"</span>]]</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>ADSP특강팀 <span class="op">=</span> 파이썬특강팀.copy()</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>파이썬특강팀[<span class="op">-</span><span class="dv">1</span>].remove(<span class="st">"이영미"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>파이썬특강팀, ADSP특강팀</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>(['양성준', ['최규빈', '최혜미']], ['양성준', ['최규빈', '최혜미']])</code></pre>
</div>
</div>
<p><strong>이슈:</strong> 이영미교수가 파이썬특강에서 제외되면서 ADSP특강팀에서도 제외되었음. 그런데 사실 이영미교수가 파이썬특강팀에서만 제외되길 원한 것이지 ADSP특강팀에서 제외되길 원한게 아닐수도 있음.</p>
<p><strong>해결</strong>: Deep copy의 사용</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> copy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>파이썬특강팀 <span class="op">=</span> [<span class="st">"양성준"</span>,[<span class="st">"최규빈"</span>,<span class="st">"이영미"</span>,<span class="st">"최혜미"</span>]]</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>ADSP특강팀 <span class="op">=</span> copy.deepcopy(파이썬특강팀)</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>파이썬특강팀[<span class="op">-</span><span class="dv">1</span>].remove(<span class="st">"이영미"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>파이썬특강팀, ADSP특강팀</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>(['양성준', ['최규빈', '최혜미']], ['양성준', ['최규빈', '이영미', '최혜미']])</code></pre>
</div>
</div>
</section>
<section id="예제2-2" class="level2">
<h2 class="anchored" data-anchor-id="예제2-2">예제2</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것, 얕은복사</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: (1) 깊은복사 (2) 복사의 레벨을 이해 (3) 얕은복사 = 1단계 깊은복사</p>
</blockquote>
<p><code>-</code> deepcopy</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,[<span class="dv">55</span>,<span class="dv">44</span>]]] </span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> copy.deepcopy(l1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>l2[<span class="dv">1</span>][<span class="dv">1</span>].append(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>([3, [66, [55, 44]]], [3, [66, [55, 44, 33]]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 1'</span>)</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1))</span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 1
l1: 140137133270656
l2: 140137132727232</code></pre>
</div>
</div>
<ul>
<li>레벨1: <code>l1</code>,<code>l2</code> 의 메모리 주소가 다름을 확인</li>
</ul>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 2'</span>)</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]),<span class="bu">id</span>(l1[<span class="dv">1</span>])])</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]),<span class="bu">id</span>(l2[<span class="dv">1</span>])])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 2
l1: 140137133270656 [7585536, 140137133267712]
l2: 140137132727232 [7585536, 140137133267456]</code></pre>
</div>
</div>
<ul>
<li>레벨2: <code>l1안에 있는 [66,[55,44]]</code>와 <code>l2안에 있는 [66,[55,44]]</code>의 메모리 주소가 다름도 확인.</li>
</ul>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 3'</span>)</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]),[<span class="bu">id</span>(l1[<span class="dv">1</span>][<span class="dv">0</span>]),<span class="bu">id</span>(l1[<span class="dv">1</span>][<span class="dv">1</span>])]])</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]),[<span class="bu">id</span>(l2[<span class="dv">1</span>][<span class="dv">0</span>]),<span class="bu">id</span>(l2[<span class="dv">1</span>][<span class="dv">1</span>])]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 3
l1: 140137133270656 [7585536, [7587552, 140137133704320]]
l2: 140137132727232 [7585536, [7587552, 140137137410624]]</code></pre>
</div>
</div>
<ul>
<li>레벨3: <code>l1안의 [66,[55,44]] 안의 [55,44]</code>와 <code>l2안의 [66,[55,44]] 안의 [55,44]</code>의 메모리 주소까지도 다름을 확인.</li>
</ul>
<p><code>-</code> 비교를 위한 shallow copy</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,[<span class="dv">55</span>,<span class="dv">44</span>]]] </span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>l2[<span class="dv">1</span>][<span class="dv">1</span>].append(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>([3, [66, [55, 44, 33]]], [3, [66, [55, 44, 33]]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 1'</span>)</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1))</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 1
l1: 140137133470528
l2: 140137137411136</code></pre>
</div>
</div>
<ul>
<li>레벨1: <code>l1</code>,<code>l2</code> 의 메모리 주소가 다름을 확인</li>
</ul>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 2'</span>)</span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]),<span class="bu">id</span>(l1[<span class="dv">1</span>])])</span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]),<span class="bu">id</span>(l2[<span class="dv">1</span>])])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 2
l1: 140137133470528 [7585536, 140137133703424]
l2: 140137137411136 [7585536, 140137133703424]</code></pre>
</div>
</div>
<ul>
<li>레벨2: <code>l1안에 있는 [66,[55,44]]</code>와 <code>l2안에 있는 [66,[55,44]]</code>의 메모리 주소는 같음!!</li>
</ul>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 3'</span>)</span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]),[<span class="bu">id</span>(l1[<span class="dv">1</span>][<span class="dv">0</span>]),<span class="bu">id</span>(l1[<span class="dv">1</span>][<span class="dv">1</span>])]])</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]),[<span class="bu">id</span>(l2[<span class="dv">1</span>][<span class="dv">0</span>]),<span class="bu">id</span>(l2[<span class="dv">1</span>][<span class="dv">1</span>])]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 3
l1: 140137133470528 [7585536, [7587552, 140137137410880]]
l2: 140137137411136 [7585536, [7587552, 140137137410880]]</code></pre>
</div>
</div>
<ul>
<li>레벨3: <code>l1안의 [66,[55,44]] 안의 [55,44]</code>와 <code>l2안의 [66,[55,44]] 안의 [55,44]</code>의 메모리 주소도 같음!!</li>
</ul>
<p><code>-</code> 비교를 위한 참조</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,[<span class="dv">55</span>,<span class="dv">44</span>]]] </span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>l2 <span class="op">=</span> l1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>l2[<span class="dv">1</span>][<span class="dv">1</span>].append(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>([3, [66, [55, 44, 33]]], [3, [66, [55, 44, 33]]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 1'</span>)</span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1))</span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 1
l1: 140137133223232
l2: 140137133223232</code></pre>
</div>
</div>
<ul>
<li>레벨1: <code>l1</code>,<code>l2</code> 여기서부터 메모리 주소가 같다.</li>
</ul>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 2'</span>)</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]),<span class="bu">id</span>(l1[<span class="dv">1</span>])])</span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]),<span class="bu">id</span>(l2[<span class="dv">1</span>])])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 2
l1: 140137133223232 [7585536, 140137133698560]
l2: 140137133223232 [7585536, 140137133698560]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 3'</span>)</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]),[<span class="bu">id</span>(l1[<span class="dv">1</span>][<span class="dv">0</span>]),<span class="bu">id</span>(l1[<span class="dv">1</span>][<span class="dv">1</span>])]])</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]),[<span class="bu">id</span>(l2[<span class="dv">1</span>][<span class="dv">0</span>]),<span class="bu">id</span>(l2[<span class="dv">1</span>][<span class="dv">1</span>])]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 3
l1: 140137133223232 [7585536, [7587552, 140137133438144]]
l2: 140137133223232 [7585536, [7587552, 140137133438144]]</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Note: 문헌에 따라서 shallow copy를 level1 deep copy라고 부르기도 한다.</p>
</blockquote>
</section>
</section>
<section id="shallow-copy-연습문제" class="level1">
<h1>Shallow copy 연습문제</h1>
<section id="예제1-3" class="level2">
<h2 class="anchored" data-anchor-id="예제1-3">예제1</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 얕은복사의 한계점 이해</p>
</blockquote>
<p><code>-</code> 아래의 코드결과를 예측하라. 결과가 나오는 이유를 설명하라.</p>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]]</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span> l1.copy() </span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].append(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>, l1)</span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>, l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44, 33]]
l2= [3, [66, 55, 44, 33]]</code></pre>
</div>
</div>
<ul>
<li>포인트: shallow copy (=level 1 deep copy) 이므로 <code>l1안의 [66,55,44]</code>와 <code>l2안의 [66,55,44]</code>는 같은 메모리 주소를 가짐</li>
</ul>
</section>
<section id="예제2-3" class="level2">
<h2 class="anchored" data-anchor-id="예제2-3">예제2</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 재할당의 활용하여 얕은복사의 한계점 극복</p>
</blockquote>
<p><code>-</code> 아래의 코드결과를 예측하라. 결과가 나오는 이유를 설명하라.</p>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]] </span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span> l1.copy() </span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> l1[<span class="op">-</span><span class="dv">1</span>]<span class="op">+</span>[<span class="dv">33</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>, l1)</span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>, l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44, 33]]
l2= [3, [66, 55, 44]]</code></pre>
</div>
</div>
<ul>
<li>포인트: <code>l1[-1]+[33]</code>가 실행되는 순간 새로운 오브젝트가 생성되고 이 새로운 오브젝트가 l1의 마지막 원소에 새롭게 할당된다.</li>
</ul>
</section>
<section id="예제3-1" class="level2">
<h2 class="anchored" data-anchor-id="예제3-1">예제3</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 재할당의 활용하여 얕은복사의 한계점 극복, 예제4를 위한 떡밥</p>
</blockquote>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]] </span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span> l1.copy() </span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> l1[<span class="op">-</span><span class="dv">1</span>]<span class="op">+</span>[<span class="dv">33</span>] </span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].remove(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>, l1)</span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>, l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44]]
l2= [3, [66, 55, 44]]</code></pre>
</div>
</div>
<ul>
<li>포인트: 이 상황에서 <code>l1안의 [66,55,44]</code>와 <code>l2안의 [66,55,44]</code>는 서로 다른 메모리 주소를 가진다.</li>
</ul>
</section>
<section id="예제4-1" class="level2">
<h2 class="anchored" data-anchor-id="예제4-1">예제4</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: 재할당으로 인해 메모리주소가 틀어짐을 이용한 트릭예제, 예제5의 떡밥예제</p>
</blockquote>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]] </span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span> l1.copy() </span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> l1[<span class="op">-</span><span class="dv">1</span>]<span class="op">+</span>[<span class="dv">33</span>]</span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].remove(<span class="dv">33</span>) </span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].append(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(잘못된 상상) 아래의 코드와 결과가 같을거야!!</p>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]] </span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span> l1.copy() </span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="co"># l1[-1] = l1[-1]+[33] </span></span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a><span class="co"># l1[-1].remove(33)</span></span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].append(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>, l1)</span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>, l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44, 33]]
l2= [3, [66, 55, 44, 33]]</code></pre>
</div>
</div>
<p>(하지만 현실은)</p>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]] </span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span> l1.copy() </span>
<span id="cb193-3"><a href="#cb193-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> l1[<span class="op">-</span><span class="dv">1</span>]<span class="op">+</span>[<span class="dv">33</span>] </span>
<span id="cb193-4"><a href="#cb193-4" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].remove(<span class="dv">33</span>)</span>
<span id="cb193-5"><a href="#cb193-5" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].append(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>, l1)</span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>, l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44, 33]]
l2= [3, [66, 55, 44]]</code></pre>
</div>
</div>
</section>
<section id="예제5" class="level2">
<h2 class="anchored" data-anchor-id="예제5">예제5</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: <code>+=</code>는 재할당이 아니다.</p>
</blockquote>
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]] </span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span> l1.copy() </span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>] <span class="op">+=</span> [<span class="dv">33</span>] <span class="co"># l1[-1] = l1[-1]+[33] </span></span>
<span id="cb196-4"><a href="#cb196-4" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].remove(<span class="dv">33</span>)</span>
<span id="cb196-5"><a href="#cb196-5" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>].append(<span class="dv">33</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>, l1)</span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>, l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44, 33]]
l2= [3, [66, 55, 44, 33]]</code></pre>
</div>
</div>
<p><strong><em><code>+=</code> 연산자의 올바른 이해</em></strong></p>
<blockquote class="blockquote">
<p>??? 예제4랑 예제5는 같은코드가 아니었음!!! <code>a += [1]</code> 는 새로운 오브젝트를 만드는게 아니고, 기존의 오브젝트를 변형하는 스타일의 코드였음! (마치 append 메소드처럼)</p>
</blockquote>
</section>
</section>
<section id="불변형-객체" class="level1">
<h1>불변형 객체</h1>
<section id="예제1-motivation-example-1" class="level2">
<h2 class="anchored" data-anchor-id="예제1-motivation-example-1">예제1: Motivation example</h2>
<blockquote class="blockquote">
<p>선행지식: 이전까지 모든것</p>
</blockquote>
<blockquote class="blockquote">
<p>포인트: <code>+=</code>는 재할당이 아니다.</p>
</blockquote>
<p><code>-</code> 우리는 이제 아래의 내용은 마스터함</p>
<div class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span> [<span class="dv">3</span>,[<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>]] </span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span> l1.copy() </span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a>l1[<span class="op">-</span><span class="dv">1</span>] <span class="op">+=</span> [<span class="dv">33</span>] <span class="co"># l1[-1].append(33)이랑 같은거..</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>, l1)</span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>, l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, [66, 55, 44, 33]]
l2= [3, [66, 55, 44, 33]]</code></pre>
</div>
</div>
<p><code>-</code> 아래의 결과를 한번 예측해볼까?</p>
<div class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span>[<span class="dv">3</span>,(<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>)]</span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span>l1.copy()</span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a>l2[<span class="dv">1</span>] <span class="op">+=</span> (<span class="dv">33</span>,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1='</span>, l1)</span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2='</span>, l2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>l1= [3, (66, 55, 44)]
l2= [3, (66, 55, 44, 33)]</code></pre>
</div>
</div>
</section>
<section id="해설" class="level2">
<h2 class="anchored" data-anchor-id="해설">해설</h2>
<p>(시점1)</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>l1<span class="op">=</span>[<span class="dv">3</span>,(<span class="dv">66</span>,<span class="dv">55</span>,<span class="dv">44</span>)]</span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>l2<span class="op">=</span>l1.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>([3, (66, 55, 44)], [3, (66, 55, 44)])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 1'</span>)</span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1))</span>
<span id="cb208-3"><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 1
l1: 140006812656640
l2: 140006812645888</code></pre>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 2'</span>)</span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]),<span class="bu">id</span>(l1[<span class="dv">1</span>])])</span>
<span id="cb210-3"><a href="#cb210-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]),<span class="bu">id</span>(l2[<span class="dv">1</span>])])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 2
l1: 140006812656640 [7585536, 140006812590400]
l2: 140006812645888 [7585536, 140006812590400]</code></pre>
</div>
</div>
<p>(시점2)</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>l2[<span class="dv">1</span>] <span class="op">+=</span> (<span class="dv">33</span>,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>l1,l2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>([3, (66, 55, 44)], [3, (66, 55, 44, 33)])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 1'</span>)</span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1))</span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 1
l1: 140006812656640
l2: 140006812645888</code></pre>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'level 2'</span>)</span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l1:'</span>, <span class="bu">id</span>(l1), [<span class="bu">id</span>(l1[<span class="dv">0</span>]),<span class="bu">id</span>(l1[<span class="dv">1</span>])])</span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'l2:'</span>, <span class="bu">id</span>(l2), [<span class="bu">id</span>(l2[<span class="dv">0</span>]),<span class="bu">id</span>(l2[<span class="dv">1</span>])])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>level 2
l1: 140006812656640 [7585536, 140006812590400]
l2: 140006812645888 [7585536, 140006813422272]</code></pre>
</div>
</div>
<p>주소 <code>140006812590400:(66,55,44)</code>에 있는 값을 바꾸고 싶지만 불변형이라 못바꿈 <span class="math inline">\(\to\)</span> 그냥 새로 만들자. 그래서 그걸 <code>140006813422272</code>에 저장하자.</p>
</section>
</section>
<section id="shallow-copy-vs-deep-copy" class="level1">
<h1>Shallow-copy vs Deep-copy</h1>
<p><code>-</code> 암기용문구: “얕은복사는 껍데기만 복사한다. 깊은복사는 내부까지 복사한다.”</p>
<p><code>-</code> 일부교재에서는 경우에 따라 얕은복사가 선호될 수 있다는 식으로 설명되어있으나 솔직히 대부분 코드에서 얕은복사의 동작을 정확하게 의도하고 코드를 사용하진 않는다. 대부분의 경우에서 얕은복사는 불필요한 side effect을 유발하는 쓸모없는 개념이라 생각한다. (복사를 이미 하려고 마음먹었으면 보통 깊은복사를 생각함, 그게 아니라면 차라리 참조를 썼겠지..)</p>
<p><code>-</code> 그럼 얕은복사의 장점은 무엇인가? 얕은복사가 깊은복사보다 메모리를 더 적게 사용한다.</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co">## 예제1</span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>lst1 <span class="op">=</span> [<span class="st">'양성준'</span>,[<span class="st">'최규빈'</span>,<span class="st">'이영미'</span>,<span class="st">'최혜미'</span>]]</span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a>lst2 <span class="op">=</span> lst1.copy()</span>
<span id="cb219-4"><a href="#cb219-4" aria-hidden="true" tabindex="-1"></a><span class="co">## 예제2 </span></span>
<span id="cb219-5"><a href="#cb219-5" aria-hidden="true" tabindex="-1"></a>lst1 <span class="op">=</span> [<span class="st">'양성준'</span>,[<span class="st">'최규빈'</span>,<span class="st">'이영미'</span>,<span class="st">'최혜미'</span>]]</span>
<span id="cb219-6"><a href="#cb219-6" aria-hidden="true" tabindex="-1"></a>lst2 <span class="op">=</span> copy.deepcopy(lst1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>예제1: 4+1+2 = 7개의 공간 사용</li>
<li>예제2: 4+2+2 = 8개의 공간 사용</li>
</ul>
<p><strong>요약</strong></p>
<p><code>-</code> 파이썬은 메모리를 아끼기 위해서 얕은복사라는 이상한 행동을 한다. (하지만 우리는 보통 얕은복사를 원하지 않아. 우리는 깊은복사만 쓰고 싶음!)</p>
<p><code>-</code> 통찰1: 그런데 오묘하게도 [1,2,3,4,5,6]와 같이 1차원 리스트인 경우는 문제가 되지 않음.</p>
<ul>
<li>1차원 리스트의 경우(= 중첩된 리스트가 아닐 경우)는 “레벨1 수준의 깊은복사”만 있으면 충분하다. 따라서 “shallow copy = deep copy” 임.</li>
</ul>
<p><code>-</code> 통찰2: 생각해보니까 모든 자료형이 불변형인 경우에도 문제가 되지 않음. (R은 모든 자료형이 불변형이다)</p>
<p><code>-</code> 문제상황요약: [[1,2],[3,4]] 와 같이 리스트에 리스트가 포함된 형태라면 문제가 생긴다. <span class="math inline">\(\to\)</span> 그런데 우리가 자주 쓰는 매트릭스가 사실 이러한 중첩된 리스트 구조 아니야? 이거 문제인데?</p>
<ul>
<li>해결책1: 깊은복사를 하면 된다. (이미했음)</li>
<li>해결책2: 넘파이를 쓰면된다. (이걸로 뭘 어떻게 개선한다는거야?)</li>
</ul>
</section>
<section id="numpy" class="level1">
<h1>numpy</h1>
<div class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="차원의-실체" class="level2">
<h2 class="anchored" data-anchor-id="차원의-실체">2차원의 실체</h2>
<p><code>-</code> 2차원 array a,b를 선언하자.</p>
<div class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.array([[<span class="dv">11</span>,<span class="dv">22</span>,<span class="dv">33</span>,<span class="dv">44</span>]]).reshape(<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> np.array([[<span class="dv">11</span>,<span class="dv">22</span>,<span class="dv">33</span>,<span class="dv">44</span>,<span class="dv">55</span>,<span class="dv">66</span>]]).reshape(<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> np.array([<span class="dv">11</span>,<span class="dv">22</span>,<span class="dv">33</span>,<span class="dv">44</span>]).reshape(<span class="dv">4</span>,<span class="dv">1</span>)</span>
<span id="cb221-4"><a href="#cb221-4" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> np.array([<span class="dv">11</span>,<span class="dv">22</span>,<span class="dv">33</span>,<span class="dv">44</span>]) <span class="co"># 1d</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>-</code> a,b,c,d 속성비교</p>
<div class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>a.shape, b.shape, c.shape, d.shape <span class="co">## 차원 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="100">
<pre><code>((2, 2), (2, 3), (4, 1), (4,))</code></pre>
</div>
</div>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>a.strides, b.strides, c.strides, d.strides <span class="co">## 차원이랑 관련이 있어보임.. + 8의 배수 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>((16, 8), (24, 8), (8, 8), (8,))</code></pre>
</div>
</div>
<p><code>-</code> ((16, 8), (24, 8), (8, 8), (8,)) 와 같은 저 숫자들이 도데체 무엇을 의미하는거야?!</p>
<ul>
<li>사전지식: 컴퓨터는 하나의 숫자를 저장하는데 메모리를 8칸 쓴다.</li>
<li>가정: 만약에 컴퓨터가 1차원으로만 숫자를 저장한다면??</li>
<li>strides의 의미: (다음 행으로 가기위해서 JUMP해야하는 메모리 공간수, 다음 열로 가기위해서 JUMP해야하는 메모리 공간수)</li>
</ul>
<p><code>-</code> 통찰: strides의 존재로 인해서 유추할 수 있는 것은 a,b,c,d 는 모두 1차원으로 저장되어있다는 사실이다. (중첩된 리스트꼴이 아니라)</p>
<p><code>-</code> 그렇다면.. shallow copy = deep copy?!</p>
<div class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>A1<span class="op">=</span>[[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>]]</span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a>A2<span class="op">=</span>A1.copy()</span>
<span id="cb226-3"><a href="#cb226-3" aria-hidden="true" tabindex="-1"></a>B1<span class="op">=</span>np.array([[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>]])</span>
<span id="cb226-4"><a href="#cb226-4" aria-hidden="true" tabindex="-1"></a>B2<span class="op">=</span>B1.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>B1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="104">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a>A2[<span class="dv">0</span>][<span class="dv">0</span>]<span class="op">=</span><span class="dv">11</span></span>
<span id="cb229-2"><a href="#cb229-2" aria-hidden="true" tabindex="-1"></a>B2[<span class="dv">0</span>][<span class="dv">0</span>]<span class="op">=</span><span class="dv">11</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>A1,A2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="106">
<pre><code>([[11, 2], [3, 4]], [[11, 2], [3, 4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>B1,B2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="107">
<pre><code>(array([[1, 2],
        [3, 4]]),
 array([[11,  2],
        [ 3,  4]]))</code></pre>
</div>
</div>
<p><code>-</code> 해방: 넘파이를 쓰면 <code>copy.deepcopy()</code>를 쓰지 않아도 된다.</p>
<p><code>-</code> 용어정리: (필요할까..?)</p>
<ul>
<li>numpy 한정 <code>.copy()</code> 는 copy모듈의 deep copy와 동등한 효과를 준다. 하지만 실제로는 shallow copy 이다. <a href="https://numpy.org/doc/stable/reference/generated/numpy.copy.html">공식문서</a>에는 “Note that np.copy is a shallow copy and will not copy object elements within arrays.” 라고 명시되어 있음.</li>
<li>일부 블로그에서 deep copy라고 주장하기도 함. <a href="https://humaneer.net/292">블로그1</a>, <a href="https://python.plainenglish.io/shallow-copy-and-deep-copy-in-python-numpy-8861e0870c5f">블로그2</a>, <a href="https://yeko90.tistory.com/entry/%EB%84%98%ED%8C%8C%EC%9D%B4-%EA%B8%B0%EC%B4%88-%EA%B9%8A%EC%9D%80-%EB%B3%B5%EC%82%AC-%EC%96%95%EC%9D%80-%EB%B3%B5%EC%82%AC-copy-view">블로그3</a> // 블로그2의 경우 참조와 shallow copy도 구분못함..</li>
<li>이따가 view라는 개념도 나올텐데 <code>.copy()</code>를 deep copy라고 주장하는 블로거들 대부분 <code>.view()</code>를 shallow copy 혹은 참조라고 주장한다. 하지만 copy와 view를 설명하는 <a href="https://numpy.org/doc/stable/user/basics.copies.html">공식문서</a>에서는 view가 shallow copy라는 말을 찾아볼 수 없음.</li>
</ul>
<p><code>-</code> 정리 (넘파이한정)</p>
<ul>
<li><code>nparray.copy()</code>: 실제로는 shallow copy, 그런데 느낌은 deep copy</li>
<li><code>nparray.view()</code>: 실제로는 shallow copy 보다 더 얕은 단계의 카피, 그런데 느낌은 shallow copy</li>
</ul>
</section>
<section id="참조" class="level2">
<h2 class="anchored" data-anchor-id="참조">참조</h2>
<p><code>-</code> a를 선언, b는 a의 참조</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>]])</span>
<span id="cb234-2"><a href="#cb234-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a <span class="co">## 참조 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a>a.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>(2, 2)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a>b.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>(2, 2)</code></pre>
</div>
</div>
<p><code>-</code> a의 shape을 바꾸어보자 <span class="math inline">\(\to\)</span> b도 같이 바뀐다</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a>a.shape <span class="op">=</span> (<span class="dv">4</span>,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>array([1, 2, 3, 4])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>array([1, 2, 3, 4])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a),<span class="bu">id</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>(139680327738544, 139680327738544)</code></pre>
</div>
</div>
</section>
<section id="view" class="level2">
<h2 class="anchored" data-anchor-id="view">view</h2>
<p><code>-</code> a를 선언, b는 a의 view</p>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>]]) </span>
<span id="cb250-2"><a href="#cb250-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a.view() <span class="co">## 어떤 블로그등에서는 shallow copy라고 부르기도 한다. 그렇게 공부하지 마세여..</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a>a.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>(2, 2)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a>b.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>(2, 2)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a>a.shape<span class="op">=</span> (<span class="dv">4</span>,<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>array([[1],
       [2],
       [3],
       [4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb264"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb264-1"><a href="#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a), <span class="bu">id</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>(139679960161232, 139679932937872)</code></pre>
</div>
</div>
<p><code>-</code> 그런데..</p>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">0</span>]<span class="op">=</span><span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>array([[100],
       [  2],
       [  3],
       [  4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>array([[100,   2],
       [  3,   4]])</code></pre>
</div>
</div>
<p><code>-</code> 출생의 비밀</p>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb271"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb271-1"><a href="#cb271-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>array([[100,   2],
       [  3,   4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb273"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a>b.base</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>array([[100],
       [  2],
       [  3],
       [  4]])</code></pre>
</div>
</div>
<ul>
<li>? 이거 바뀐 a아니야?</li>
</ul>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(b.base), <span class="bu">id</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>(139679960161232, 139679960161232)</code></pre>
</div>
</div>
<p><code>-</code> View</p>
<ul>
<li>b가 a의 뷰라는 의미는, b가 a를 소스로하여 만들어진 오브젝트란 의미이다.</li>
<li>따라서 이때 b.base는 a가 된다.</li>
<li>b는 자체적으로 데이터를 가지고 있지 않으며 a와 공유한다.</li>
</ul>
<p><code>note1</code> 원본 ndarray의 일 경우는 .base가 None으로 나온다.</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a>a.base</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>note2</code> b.base의 shpae과 b의 shape은 아무 관련없다.</p>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a>b.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>(2, 2)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a>b.base.shape <span class="co"># a.shape과 같음</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>(4, 1)</code></pre>
</div>
</div>
<p><code>-</code> numpy에서 view를 사용하는 예시 (transpose)</p>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> np.random.normal(size<span class="op">=</span>[<span class="dv">100</span>,<span class="dv">2</span>])</span>
<span id="cb282-2"><a href="#cb282-2" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>((X.T).base), <span class="bu">id</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>(139679932937584, 139679932937584)</code></pre>
</div>
</div>
<ul>
<li><code>X.T</code> 는 <code>X</code>의 view 이다.</li>
</ul>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a>X.T <span class="op">@</span> X <span class="co">## 실제로 X.T를 메모리공간에 새로 만들어 숫자를 저장하지않고 X.T @ X를 계산할 수 있음 (R과차이점) </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>array([[124.15127928,  -0.45772606],
       [ -0.45772606,  79.17005817]])</code></pre>
</div>
</div>
</section>
<section id="copy" class="level2">
<h2 class="anchored" data-anchor-id="copy">copy</h2>
<p><code>-</code> a를 선언, b는 a의 copy</p>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb286"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb286-1"><a href="#cb286-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>]])</span>
<span id="cb286-2"><a href="#cb286-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a.copy() <span class="co"># 껍데기를 새로 생성 (strides, shape) + 데이터도 a와 독립적으로 새로 생성하여 따로 메모리에 저장함. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb287"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb287-1"><a href="#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(a),<span class="bu">id</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>(139680327737776, 139679932938832)</code></pre>
</div>
</div>
<p><code>-</code> a의 shape을 바꿔도 b에는 적용되지 않음</p>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb289"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a>a.shape <span class="op">=</span> (<span class="dv">4</span>,<span class="dv">1</span>)</span>
<span id="cb289-2"><a href="#cb289-2" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>array([[1],
       [2],
       [3],
       [4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb291"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb291-1"><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<p><code>-</code> 그리고 a[0]의 값을 바꿔도 b에는 적용되지 않음.</p>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb293"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">0</span>]<span class="op">=</span><span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb294"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>array([[100],
       [  2],
       [  3],
       [  4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb296"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb296-1"><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<p><code>-</code> b의 출생을 조사해보니..</p>
<div class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb298"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb298-1"><a href="#cb298-1" aria-hidden="true" tabindex="-1"></a>a.base,b.base</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>(None, None)</code></pre>
</div>
</div>
<p>출생의 비밀은 없었다. 둘다 원본.</p>
<p><code>-</code> <code>.view()</code> 는 껍데기만 새로생성 // <code>.copy()</code> 는 껍데기와 데이터를 모두 새로 생성</p>
<section id="appendix-.copy의-한계" class="level3">
<h3 class="anchored" data-anchor-id="appendix-.copy의-한계"><strong><em>Appendix: .copy의 한계(?)</em></strong></h3>
<p>(관찰)</p>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">1</span>,[<span class="dv">1</span>,<span class="dv">2</span>]],dtype<span class="op">=</span><span class="st">'O'</span>)</span>
<span id="cb300-2"><a href="#cb300-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a.copy()</span>
<span id="cb300-3"><a href="#cb300-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점1'</span>)</span>
<span id="cb300-4"><a href="#cb300-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a='</span>,a)</span>
<span id="cb300-5"><a href="#cb300-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'b='</span>,b)</span>
<span id="cb300-6"><a href="#cb300-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-7"><a href="#cb300-7" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">0</span>]<span class="op">=</span><span class="dv">222</span></span>
<span id="cb300-8"><a href="#cb300-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점2'</span>)</span>
<span id="cb300-9"><a href="#cb300-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a='</span>,a)</span>
<span id="cb300-10"><a href="#cb300-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'b='</span>,b)</span>
<span id="cb300-11"><a href="#cb300-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-12"><a href="#cb300-12" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">1</span>][<span class="dv">0</span>]<span class="op">=</span><span class="dv">333</span></span>
<span id="cb300-13"><a href="#cb300-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점2'</span>)</span>
<span id="cb300-14"><a href="#cb300-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a='</span>,a)</span>
<span id="cb300-15"><a href="#cb300-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'b='</span>,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>시점1
a= [1 list([1, 2])]
b= [1 list([1, 2])]
시점2
a= [222 list([1, 2])]
b= [1 list([1, 2])]
시점2
a= [222 list([333, 2])]
b= [1 list([333, 2])]</code></pre>
</div>
</div>
<ul>
<li>왜 또 시점2에서는 a와 b가 같이 움직여?</li>
</ul>
<p><strong><em>해결책: 더 깊은 복사</em></strong></p>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> copy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="61">
<div class="sourceCode cell-code" id="cb303"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb303-1"><a href="#cb303-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">1</span>,[<span class="dv">1</span>,<span class="dv">2</span>]],dtype<span class="op">=</span><span class="st">'O'</span>)</span>
<span id="cb303-2"><a href="#cb303-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>copy.deepcopy(a)</span>
<span id="cb303-3"><a href="#cb303-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점1'</span>)</span>
<span id="cb303-4"><a href="#cb303-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a='</span>,a)</span>
<span id="cb303-5"><a href="#cb303-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'b='</span>,b)</span>
<span id="cb303-6"><a href="#cb303-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-7"><a href="#cb303-7" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">0</span>]<span class="op">=</span><span class="dv">222</span></span>
<span id="cb303-8"><a href="#cb303-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점2'</span>)</span>
<span id="cb303-9"><a href="#cb303-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a='</span>,a)</span>
<span id="cb303-10"><a href="#cb303-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'b='</span>,b)</span>
<span id="cb303-11"><a href="#cb303-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-12"><a href="#cb303-12" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">1</span>][<span class="dv">0</span>]<span class="op">=</span><span class="dv">333</span></span>
<span id="cb303-13"><a href="#cb303-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'시점2'</span>)</span>
<span id="cb303-14"><a href="#cb303-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a='</span>,a)</span>
<span id="cb303-15"><a href="#cb303-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'b='</span>,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>시점1
a= [1 list([1, 2])]
b= [1 list([1, 2])]
시점2
a= [222 list([1, 2])]
b= [1 list([1, 2])]
시점2
a= [222 list([333, 2])]
b= [1 list([1, 2])]</code></pre>
</div>
</div>
<p><code>-</code> 중간요약</p>
<ul>
<li>사실 <code>b=a.copy()</code>는 에서 <code>.copy()</code>는 사실 온전한 deep-copy가 아니다.</li>
<li>그래서 <code>a</code>의 데이터가 중첩구조를 가지는 경우는 온전한 deep-copy가 수행되지 않는다.</li>
<li>그런데 일반적으로 넘파이를 이용할때 자주 사용하는 데이터 구조인 행렬, 텐서등은 데이터가 중첩구조를 가지지 않는다. (1차원 array로만 저장되어 있음)</li>
<li>따라서 행렬, 텐서에 한정하면 <code>.copy()</code>는 온전한 deep-copy라고 이해해도 무방하다. &lt;– 이것만 기억해!</li>
</ul>
</section>
</section>
<section id="요약" class="level2">
<h2 class="anchored" data-anchor-id="요약">요약</h2>
<p>아래를 구분할 수 있으면 잘 이해한 것!!</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> np.array(...) <span class="co"># arr -- [arr.shape, arr.strides, arr.base, ... ] </span></span>
<span id="cb305-2"><a href="#cb305-2" aria-hidden="true" tabindex="-1"></a>arr2 <span class="op">=</span> arr </span>
<span id="cb305-3"><a href="#cb305-3" aria-hidden="true" tabindex="-1"></a>arr2 <span class="op">=</span> arr.view()</span>
<span id="cb305-4"><a href="#cb305-4" aria-hidden="true" tabindex="-1"></a>arr2 <span class="op">=</span> arr.copy()</span>
<span id="cb305-5"><a href="#cb305-5" aria-hidden="true" tabindex="-1"></a>arr2 <span class="op">=</span> copy.deepcopy(arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="별명-뷰-카피" class="level2">
<h2 class="anchored" data-anchor-id="별명-뷰-카피">별명, 뷰, 카피</h2>
<p><code>-</code> test 함수 작성</p>
<div class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb306"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test(a,b): </span>
<span id="cb306-2"><a href="#cb306-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">id</span>(a) <span class="op">==</span> <span class="bu">id</span>(b): </span>
<span id="cb306-3"><a href="#cb306-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"별명"</span>)</span>
<span id="cb306-4"><a href="#cb306-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">id</span>(a) <span class="op">==</span> <span class="bu">id</span>(b.base) <span class="kw">or</span> <span class="bu">id</span>(a.base)<span class="op">==</span><span class="bu">id</span>(b): </span>
<span id="cb306-5"><a href="#cb306-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"뷰"</span>)</span>
<span id="cb306-6"><a href="#cb306-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> (<span class="bu">id</span>(a.base)<span class="op">!=</span><span class="bu">id</span>(<span class="va">None</span>) <span class="kw">and</span> <span class="bu">id</span>(b.base)<span class="op">!=</span><span class="bu">id</span>(<span class="va">None</span>)) <span class="kw">and</span> <span class="bu">id</span>(a.base) <span class="op">==</span> <span class="bu">id</span>(b.base):</span>
<span id="cb306-7"><a href="#cb306-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"공통의 base를 가짐"</span>)</span>
<span id="cb306-8"><a href="#cb306-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>: </span>
<span id="cb306-9"><a href="#cb306-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"카피, 혹은 아무 관련없는 오브젝트"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>-</code> 잘 동작하나?</p>
<p>(테스트1)</p>
<div class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb307"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>])</span>
<span id="cb307-2"><a href="#cb307-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb308"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a>test(a,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>별명</code></pre>
</div>
</div>
<p>(테스트2)</p>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb310"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>])</span>
<span id="cb310-2"><a href="#cb310-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a.view()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb311"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb311-1"><a href="#cb311-1" aria-hidden="true" tabindex="-1"></a>test(a,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>뷰</code></pre>
</div>
</div>
<p>(테스트3)</p>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb313"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb313-1"><a href="#cb313-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>])</span>
<span id="cb313-2"><a href="#cb313-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a.view()</span>
<span id="cb313-3"><a href="#cb313-3" aria-hidden="true" tabindex="-1"></a>c<span class="op">=</span>a.view()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a>test(b,c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>공통의 base를 가짐</code></pre>
</div>
</div>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb316"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a>test(a,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>뷰</code></pre>
</div>
</div>
<div class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb318"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb318-1"><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a>test(a,c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>뷰</code></pre>
</div>
</div>
<p>(테스트4)</p>
<div class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb320"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb320-1"><a href="#cb320-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>])</span>
<span id="cb320-2"><a href="#cb320-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb321"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb321-1"><a href="#cb321-1" aria-hidden="true" tabindex="-1"></a>test(a,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>카피, 혹은 아무 관련없는 오브젝트</code></pre>
</div>
</div>
</section>
<section id="결론" class="level2">
<h2 class="anchored" data-anchor-id="결론">결론</h2>
<p><code>-</code> 참조, 뷰, 카피의 개념을 잘 알고 있고 때에 따라 메모리를 아끼면서 이들을 적절하게 사용하고 싶을것 같음. 하지만 이건 불가능한 소망임.</p>
<p><code>-</code> 우리가 사용했던 어떠한 것들이 뷰가 나올지 카피가 나올지 잘 모른다. (그래서 원리를 이해해도 대응할 방법이 사실없음)</p>
<section id="예시1" class="level3">
<h3 class="anchored" data-anchor-id="예시1">예시1</h3>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb323"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb323-1"><a href="#cb323-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>])</span>
<span id="cb323-2"><a href="#cb323-2" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a[:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb324"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb324-1"><a href="#cb324-1" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="75">
<pre><code>array([1, 2, 3, 4])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb326"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb326-1"><a href="#cb326-1" aria-hidden="true" tabindex="-1"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="76">
<pre><code>array([1, 2, 3])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb328"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb328-1"><a href="#cb328-1" aria-hidden="true" tabindex="-1"></a>test(a,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>뷰</code></pre>
</div>
</div>
<div class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb330"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb330-1"><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a>c<span class="op">=</span>a[[<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>]]</span>
<span id="cb330-2"><a href="#cb330-2" aria-hidden="true" tabindex="-1"></a>c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<pre><code>array([1, 2, 3])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb332"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb332-1"><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a>test(a,c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>카피, 혹은 아무 관련없는 오브젝트</code></pre>
</div>
</div>
</section>
<section id="예시2" class="level3">
<h3 class="anchored" data-anchor-id="예시2">예시2</h3>
<div class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb334"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb334-1"><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span>np.array([[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>]])</span>
<span id="cb334-2"><a href="#cb334-2" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="114">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb336"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb336-1"><a href="#cb336-1" aria-hidden="true" tabindex="-1"></a>b<span class="op">=</span>a.flatten() <span class="co"># 플래튼은 펼치는건데..</span></span>
<span id="cb336-2"><a href="#cb336-2" aria-hidden="true" tabindex="-1"></a>c<span class="op">=</span>a.ravel() <span class="co"># 라벨도 펼치라는 뜻인데..</span></span>
<span id="cb336-3"><a href="#cb336-3" aria-hidden="true" tabindex="-1"></a>d<span class="op">=</span>a.reshape(<span class="op">-</span><span class="dv">1</span>) <span class="co"># 이것도 뜻은 펼치는건데..</span></span>
<span id="cb336-4"><a href="#cb336-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 걍 다 똑같은거아냐?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb337"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a>test(a,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>카피, 혹은 아무 관련없는 오브젝트</code></pre>
</div>
</div>
<div class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb339"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb339-1"><a href="#cb339-1" aria-hidden="true" tabindex="-1"></a>test(a,c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>뷰</code></pre>
</div>
</div>
<div class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a>test(a,d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>뷰</code></pre>
</div>
</div>
<div class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a>test(c,d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>공통의 base를 가짐</code></pre>
</div>
</div>
<div class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a>test(b,c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>카피, 혹은 아무 관련없는 오브젝트</code></pre>
</div>
</div>
<p><code>-</code> 심지어 copy인줄 알았던것이 사실 view라서 원치않는 side effect이 생길수 있음. <span class="math inline">\(\to\)</span> 그냥 방어적 프로그래밍이 최선인듯</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="guebin/PP2023" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>